sudo: required
dist: trusty
language: node_js
node_js:
- stable
branches:
  except:
  - gh-pages
addons:
  firefox: latest
  apt:
    sources:
    - google-chrome
    packages:
    - google-chrome-stable
before_script:
- npm install web-component-tester
- npm install bower
- export PATH=$PWD/node_modules/.bin:$PATH
- bower install -g
script:
- xvfb-run wct --skip-plugin sauce
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then wct --plugin sauce --skip-plugin
  local; fi
after_success:
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then openssl aes-256-cbc -k "$DEPLOYSECRET"
  -in deploy.enc -out deploy_key -d; fi
- cd $TRAVIS_BUILD_DIR/scripts
- chmod 755 ghp.sh
- "./ghp.sh"
env:
  global:
  - secure: gZevyW8Rs86NeudLKKjP8vyyAKJI95XeZdhBpcxhTJ6q2sP2rfhngvlTceWcbwpRH8Zqg1KQc5Jb+WdbEbvDP9CH06hPd3qH7gDPRON4zredzJaHHMx3n+KFlcZEd7iRktF5zlOaTIWEC/7DSvz9Z8qRS1SLrOph3Ms53R6hVrhHG/FqAN8yxuNS+KByKhrtflm7ARZVdIhsM7znjNLRl8dGV8kpTM5LLxAMKoFdw2ktLbrHD37LdBgjWXx6exSFBFdZE0Aw4iM0DK++pdKll9ik9ZpDUyBGEnlkVI7k9G9kkn85/XTtNWO93bfI3V69fjoZidT442UFt8jV8LAo3Qo7Gk/6AaE0oVBopFrCqS2HU+BBGFTpafoSkqUW4IS0WtqL3NhC2MPz4LIpT/rcT47UCc+LO6aWMIjBmWxrqriVmHl4XIWx26iq1Yrm77QVWNHhYFZJCDyOEZsyESf5qjyJMGY/bXjYa5Y5hZ5WU6qYl56BFooFOGxvjI6iwL9e+4oXhhhPd50snc+lif3um9BjzeD52bX2k6M9MsXDU943S/QziFk16CRF60/82t9+VBX6ObzxOMWLXQyOTSg9sUFO10FGiWkwnVPXZXxofUVZyUs01dB3nZk7uNMpHeIQb4V512NqH9Un6HekBayWXJ2FuGef9Tu913ZCWNJDMlM=
  - secure: eVro0zlWKwwSX9shsjTHVCdAqtUBUZQRjdSARxfv4cazl1Lv46TjkRkCxpP80Bdg2DKWATRpvnpVUcsbzbMGw468SYrocmTj/r7nKsWF4g2tWsGvcCzpEAO4RynmiTbMHekGworRSVW6lAAW2FpiGN+to/d+QkxpiRDNELCpD0NEwPa+fVFARiior0LqeYmwoxKiH3bSHKdSBit/HvwKnG9i+xmww8MAiORpe7pb0t/xP+yuPSHFS/AvYtdA5uCQhGsaFAymNsGXTvwSLP88Ham8Grzwnw9xES3FShbshs/jJxTFdrjU/2nRcj65V7DWCffseE6XUo+3zKzwVqOLmz1kK4LjO5IFxnU4guzcJT4J1fJBqKuzub6UumHqE6KKIerfultQM+Y0+3blNLnhEi0aa4mQEy4cMv4/0cjLB5vRio+7yTV1hIL00qRxcQ+8Y4R0+Vt/NokdZhQI1m9RS/VKjZMi3X8cNx6WuZAMszb/GInaWcRcZHVwwUiILQE7FnsfhkBNEVcTZt2oDl8/FNI71Q+LQlbSaCy189kcPVDhBwRv8qfqepDkwJKzsz651sXarqcVpxEKtqqd2wAo70eduysAKrusFcSbRuu+U7O6oZs7IRcQgB31WwT4Zr3k7+ru2qhITTkAjcmzRdW3ehp8WljbqPmc6qpbhwxLNXY=
